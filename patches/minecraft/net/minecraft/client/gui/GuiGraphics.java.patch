--- a/net/minecraft/client/gui/GuiGraphics.java
+++ b/net/minecraft/client/gui/GuiGraphics.java
@@ -72,7 +_,7 @@
 import org.joml.Vector3f;
 
 @OnlyIn(Dist.CLIENT)
-public class GuiGraphics {
+public class GuiGraphics implements net.minecraftforge.client.extensions.IForgeGuiGraphics {
     private static final int EXTRA_SPACE_AFTER_FIRST_TOOLTIP_LINE = 2;
     private final Minecraft minecraft;
     private final Matrix3x2fStack pose;
@@ -870,6 +_,7 @@
                 CrashReport crashreport = CrashReport.forThrowable(throwable, "Rendering item");
                 CrashReportCategory crashreportcategory = crashreport.addCategory("Item being rendered");
                 crashreportcategory.setDetail("Item Type", () -> String.valueOf(p_283653_.getItem()));
+                crashreportcategory.setDetail("Registry Name", () -> String.valueOf(net.minecraftforge.registries.ForgeRegistries.ITEMS.getKey(p_283653_.getItem())));
                 crashreportcategory.setDetail("Item Components", () -> String.valueOf(p_283653_.getComponents()));
                 crashreportcategory.setDetail("Item Foil", () -> String.valueOf(p_283653_.hasFoil()));
                 throw new ReportedException(crashreport);
@@ -888,6 +_,7 @@
             this.renderItemCooldown(p_283349_, p_282641_, p_282146_);
             this.renderItemCount(p_282005_, p_283349_, p_282641_, p_282146_, p_282803_);
             this.pose.popMatrix();
+            net.minecraftforge.client.ItemDecoratorHandler.of(p_283349_).render(this, p_282005_, p_283349_, p_282641_, p_282146_);
         }
     }
 
@@ -899,21 +_,30 @@
         this.setTooltipForNextFrame(this.minecraft.font, p_407686_, DefaultTooltipPositioner.INSTANCE, p_410475_, p_407139_, false);
     }
 
+    private ItemStack tooltipStack = ItemStack.EMPTY;
+
     public void setTooltipForNextFrame(Font p_408152_, ItemStack p_410145_, int p_410585_, int p_408354_) {
+        this.tooltipStack = p_410145_;
         this.setTooltipForNextFrame(
             p_408152_, Screen.getTooltipFromItem(this.minecraft, p_410145_), p_410145_.getTooltipImage(), p_410585_, p_408354_, p_410145_.get(DataComponents.TOOLTIP_STYLE)
         );
+        this.tooltipStack = ItemStack.EMPTY;
     }
 
     public void setTooltipForNextFrame(Font p_407170_, List<Component> p_407123_, Optional<TooltipComponent> p_409349_, int p_406573_, int p_409911_) {
         this.setTooltipForNextFrame(p_407170_, p_407123_, p_409349_, p_406573_, p_409911_, null);
     }
 
+    public void setTooltipForNextFrame(Font font, List<Component> textComponents, Optional<TooltipComponent> tooltipComponent, ItemStack stack, int mouseX, int mouseY) {
+       this.tooltipStack = stack;
+       this.setTooltipForNextFrame(font, textComponents, tooltipComponent, mouseX, mouseY, stack.get(DataComponents.TOOLTIP_STYLE));
+       this.tooltipStack = ItemStack.EMPTY;
+    }
+
     public void setTooltipForNextFrame(
         Font p_407847_, List<Component> p_408847_, Optional<TooltipComponent> p_410489_, int p_409369_, int p_407472_, @Nullable ResourceLocation p_410303_
     ) {
-        List<ClientTooltipComponent> list = p_408847_.stream().map(Component::getVisualOrderText).map(ClientTooltipComponent::create).collect(Util.toMutableList());
-        p_410489_.ifPresent(p_325321_ -> list.add(list.isEmpty() ? 0 : 1, ClientTooltipComponent.create(p_325321_)));
+        List<ClientTooltipComponent> list = net.minecraftforge.client.ForgeHooksClient.gatherTooltipComponents(this.tooltipStack, p_408847_, p_410489_, p_409369_, guiWidth(), guiHeight(), p_407847_);
         this.setTooltipForNextFrameInternal(p_407847_, list, p_409369_, p_407472_, DefaultTooltipPositioner.INSTANCE, p_410303_, false);
     }
 
@@ -926,7 +_,22 @@
     }
 
     public void setComponentTooltipForNextFrame(Font p_406239_, List<Component> p_410275_, int p_410594_, int p_409343_) {
-        this.setComponentTooltipForNextFrame(p_406239_, p_410275_, p_410594_, p_409343_, null);
+        List<ClientTooltipComponent> components = net.minecraftforge.client.ForgeHooksClient.gatherTooltipComponents(this.tooltipStack, p_410275_, p_410594_, guiWidth(), guiHeight(), p_406239_);
+        this.setTooltipForNextFrameInternal(p_406239_, components, p_410594_, p_409343_, DefaultTooltipPositioner.INSTANCE, null, false);
+    }
+
+    public void renderComponentTooltip(Font font, List<? extends net.minecraft.network.chat.FormattedText> tooltips, int mouseX, int mouseY, ItemStack stack) {
+        this.tooltipStack = stack;
+        List<ClientTooltipComponent> components = net.minecraftforge.client.ForgeHooksClient.gatherTooltipComponents(stack, tooltips, mouseX, guiWidth(), guiHeight(), font);
+        this.setTooltipForNextFrameInternal(font, components, mouseX, mouseY, DefaultTooltipPositioner.INSTANCE, null, false);
+        this.tooltipStack = ItemStack.EMPTY;
+    }
+
+    public void renderComponentTooltipFromElements(Font font, List<com.mojang.datafixers.util.Either<FormattedText, TooltipComponent>> elements, int mouseX, int mouseY, ItemStack stack) {
+        this.tooltipStack = stack;
+        List<ClientTooltipComponent> components = net.minecraftforge.client.ForgeHooksClient.gatherTooltipComponentsFromElements(stack, elements, mouseX, guiWidth(), guiHeight(), font);
+        this.setTooltipForNextFrameInternal(font, components, mouseX, mouseY, DefaultTooltipPositioner.INSTANCE, null, false);
+        this.tooltipStack = ItemStack.EMPTY;
     }
 
     public void setComponentTooltipForNextFrame(Font p_408650_, List<Component> p_407512_, int p_406019_, int p_408123_, @Nullable ResourceLocation p_409993_) {
@@ -989,11 +_,13 @@
         ClientTooltipPositioner p_409451_,
         @Nullable ResourceLocation p_409298_
     ) {
+        var preEvent = net.minecraftforge.client.ForgeHooksClient.onRenderTooltipPre(this.tooltipStack, this, p_283678_, p_281696_, guiWidth(), guiHeight(), p_282716_, p_283128_, p_409451_);
+        if (preEvent == null) return;
         int i = 0;
         int j = p_282716_.size() == 1 ? -2 : 0;
 
         for (ClientTooltipComponent clienttooltipcomponent : p_282716_) {
-            int k = clienttooltipcomponent.getWidth(p_283128_);
+            int k = clienttooltipcomponent.getWidth(preEvent.getFont());
             if (k > i) {
                 i = k;
             }
@@ -1003,16 +_,17 @@
 
         int l1 = i;
         int i2 = j;
-        Vector2ic vector2ic = p_409451_.positionTooltip(this.guiWidth(), this.guiHeight(), p_283678_, p_281696_, i, j);
+        Vector2ic vector2ic = p_409451_.positionTooltip(this.guiWidth(), this.guiHeight(), preEvent.getX(), preEvent.getY(), i, j);
         int l = vector2ic.x();
         int i1 = vector2ic.y();
         this.pose.pushMatrix();
-        TooltipRenderUtil.renderTooltipBackground(this, l, i1, i, j, p_409298_);
+        var background_event = net.minecraftforge.client.event.ForgeEventFactoryClient.onRenderTooltipBackground(this.tooltipStack, this, l, i1, preEvent.getFont(), p_282716_, p_409298_);
+        TooltipRenderUtil.renderTooltipBackground(this, l, i1, i, j, background_event.getBackground());
         int j1 = i1;
 
         for (int k1 = 0; k1 < p_282716_.size(); k1++) {
             ClientTooltipComponent clienttooltipcomponent1 = p_282716_.get(k1);
-            clienttooltipcomponent1.renderText(this, p_283128_, l, j1);
+            clienttooltipcomponent1.renderText(this, preEvent.getFont(), l, j1);
             j1 += clienttooltipcomponent1.getHeight(p_283128_) + (k1 == 0 ? 2 : 0);
         }
 
@@ -1020,7 +_,7 @@
 
         for (int j2 = 0; j2 < p_282716_.size(); j2++) {
             ClientTooltipComponent clienttooltipcomponent2 = p_282716_.get(j2);
-            clienttooltipcomponent2.renderImage(p_283128_, l, j1, l1, i2, this);
+            clienttooltipcomponent2.renderImage(preEvent.getFont(), l, j1, l1, i2, this);
             j1 += clienttooltipcomponent2.getHeight(p_283128_) + (j2 == 0 ? 2 : 0);
         }
 
