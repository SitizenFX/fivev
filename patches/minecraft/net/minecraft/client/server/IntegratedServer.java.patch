--- a/net/minecraft/client/server/IntegratedServer.java
+++ b/net/minecraft/client/server/IntegratedServer.java
@@ -77,11 +_,12 @@
         LOGGER.info("Starting integrated minecraft server version {}", SharedConstants.getCurrentVersion().name());
         this.setUsesAuthentication(true);
         this.initializeKeyPair();
+        if (!net.minecraftforge.server.ServerLifecycleHooks.handleServerAboutToStart(this)) return false;
         this.loadLevel();
         GameProfile gameprofile = this.getSingleplayerProfile();
         String s = this.getWorldData().getLevelName();
         this.setMotd(gameprofile != null ? gameprofile.name() + " - " + s : s);
-        return true;
+        return net.minecraftforge.server.ServerLifecycleHooks.handleServerStarting(this);
     }
 
     @Override
@@ -225,6 +_,7 @@
 
     @Override
     public void halt(boolean p_120053_) {
+        if (isRunning())
         this.executeBlocking(() -> {
             for (ServerPlayer serverplayer : Lists.newArrayList(this.getPlayerList().getPlayers())) {
                 if (!serverplayer.getUUID().equals(this.uuid)) {
