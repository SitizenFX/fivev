--- a/net/minecraft/resources/DelegatingOps.java
+++ b/net/minecraft/resources/DelegatingOps.java
@@ -226,6 +_,24 @@
         return new DelegatingOps.DelegateRecordBuilder(this.delegate.mapBuilder());
     }
 
+    // Forge start
+    java.util.Map<ResourceLocation, Object> ctx = new java.util.HashMap<>();
+
+    @SuppressWarnings("unchecked")
+    public <R> R getContext(ResourceLocation rl) {
+        var ret = (R)this.ctx.get(rl);
+        if (ret == null && this.delegate instanceof DelegatingOps parent) {
+            return (R)parent.getContext(rl);
+        }
+        return ret;
+    }
+
+    @SuppressWarnings("unchecked")
+    public <R> R withContext(ResourceLocation key, Object ctx) {
+        this.ctx.put(key, ctx);
+        return (R)this;
+    }
+
     protected class DelegateListBuilder implements ListBuilder<T> {
         private final ListBuilder<T> original;
 
